module.exports=[21374,a=>{"use strict";let b=(0,a.i(70106).default)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);a.s(["Star",()=>b],21374)},33354,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},69853,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return j}});let d=a.r(87924),e=a.r(72131),f=a.r(32245),g=a.r(97458);function h(a){return{default:a&&"default"in a?a.default:a}}let i={loader:()=>Promise.resolve(h(()=>null)),loading:null,ssr:!0},j=function(a){let b={...i,...a},c=(0,e.lazy)(()=>b.loader().then(h)),j=b.loading;function k(a){let h=j?(0,d.jsx)(j,{isLoading:!0,pastDelay:!0,error:null}):null,i=!b.ssr||!!b.loading,k=i?e.Suspense:e.Fragment,l=b.ssr?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.PreloadChunks,{moduleIds:b.modules}),(0,d.jsx)(c,{...a})]}):(0,d.jsx)(f.BailoutToCSR,{reason:"next/dynamic",children:(0,d.jsx)(c,{...a})});return(0,d.jsx)(k,{...i?{fallback:h}:{},children:l})}return k.displayName="LoadableComponent",k}},19721,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return e}});let d=a.r(33354)._(a.r(69853));function e(a,b){let c={};"function"==typeof a&&(c.loader=a);let e={...c,...b};return(0,d.default)({...e,modules:e.loadableGenerated?.modules})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},8406,a=>{"use strict";let b=(0,a.i(70106).default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);a.s(["Sparkles",()=>b],8406)},91706,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(46271),e=a.i(38784),f=a.i(21374);let g=(0,a.i(70106).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var h=a.i(8406),i=a.i(23124),j=a.i(8615);function k({id:a,name:k,price:l,compare_price:m,image:n,rating:o=4.5,is_featured:p=!1,is_on_sale:q=!1}){let r=(0,i.useAppDispatch)(),{isAuthenticated:s}=(0,i.useAppSelector)(a=>a.auth),t=m&&m>l?Math.round((m-l)/m*100):0,u=t>0,v=async b=>{b.preventDefault(),b.stopPropagation();try{s?await r((0,j.addToCartAPI)({product_id:a,quantity:1})).unwrap():r((0,j.addToCart)({id:a,name:k,price:l,image:n,quantity:1}))}catch(a){console.error("Failed to add to cart:",a)}};return(0,b.jsx)(d.motion.div,{whileHover:{y:-8},transition:{duration:.3,ease:"easeOut"},className:"group relative bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 border border-gray-100",children:(0,b.jsxs)(c.default,{href:`/product/${a}`,children:[(0,b.jsxs)("div",{className:"relative overflow-hidden bg-gradient-to-br from-gray-50 to-gray-100 aspect-square",children:[(0,b.jsx)(d.motion.img,{whileHover:{scale:1.08},transition:{duration:.4},src:n||"/placeholder.svg",alt:k,className:"w-full h-full object-cover"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-all duration-300"}),(0,b.jsxs)("div",{className:"absolute top-2 left-2 flex flex-col gap-1.5",children:[q&&u&&(0,b.jsxs)(d.motion.div,{initial:{scale:0,rotate:-12},animate:{scale:1,rotate:0},className:"bg-gradient-to-br from-red-500 to-pink-600 text-white px-2.5 py-1 text-xs font-bold rounded-lg shadow-lg flex items-center gap-1",children:[(0,b.jsx)(h.Sparkles,{className:"w-3 h-3"}),t,"% OFF"]}),p&&(0,b.jsxs)(d.motion.div,{initial:{scale:0,rotate:12},animate:{scale:1,rotate:0},transition:{delay:.1},className:"bg-gradient-to-br from-amber-400 to-orange-500 text-white px-2.5 py-1 text-xs font-bold rounded-lg shadow-lg flex items-center gap-1",children:[(0,b.jsx)(f.Star,{className:"w-3 h-3 fill-white"}),"Featured"]})]}),(0,b.jsx)(d.motion.div,{initial:{opacity:0,scale:0},whileHover:{opacity:1,scale:1},className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-all duration-300",children:(0,b.jsx)("div",{className:"bg-white/95 backdrop-blur-sm rounded-full p-2 shadow-lg hover:bg-white transition-colors cursor-pointer",children:(0,b.jsx)(g,{className:"w-4 h-4 text-gray-700"})})})]}),(0,b.jsxs)("div",{className:"p-3.5",children:[(0,b.jsx)("h3",{className:"font-semibold text-base mb-2 line-clamp-2 text-gray-800 group-hover:text-primary transition-colors leading-snug min-h-[2.5rem]",children:k}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 mb-3",children:[(0,b.jsx)("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((a,c)=>(0,b.jsx)(f.Star,{className:`w-3.5 h-3.5 ${c<Math.floor(o)?"text-amber-400 fill-amber-400":"text-gray-300 fill-gray-300"}`},c))}),(0,b.jsx)("span",{className:"text-xs font-medium text-gray-600",children:o}),(0,b.jsx)("span",{className:"text-xs text-gray-400",children:"(127)"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("span",{className:"text-xl font-bold text-gray-900",children:["â‚¹",l]}),u&&(0,b.jsxs)("span",{className:"text-sm text-gray-400 line-through",children:["â‚¹",m]})]}),u&&(0,b.jsxs)("span",{className:"text-xs font-semibold text-green-600 bg-green-50 px-2 py-0.5 rounded",children:["Save â‚¹",m-l]})]}),(0,b.jsxs)(d.motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:v,className:"w-full px-4 py-2.5 bg-gradient-to-r from-primary to-primary text-white rounded-lg font-medium hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-2 text-sm",children:[(0,b.jsx)(e.ShoppingCart,{className:"w-4 h-4"}),"Add to Cart"]})]})]})})}a.s(["default",()=>k],91706)},85855,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(50944),f=a.i(19721),g=a.i(91706),h=a.i(23124),i=a.i(35213),j=a.i(10845);let k=(0,f.default)(async()=>{},{loadableGenerated:{modules:[885]},ssr:!1}),l=(0,f.default)(async()=>{},{loadableGenerated:{modules:[38377]},ssr:!1}),m=[{min:0,max:1e3,label:"Under â‚¹1,000"},{min:1e3,max:5e3,label:"â‚¹1,000 - â‚¹5,000"},{min:5e3,max:1e4,label:"â‚¹5,000 - â‚¹10,000"},{min:1e4,max:5e4,label:"Over â‚¹10,000"}];function n(){let[a,f]=(0,c.useState)("all"),[n,o]=(0,c.useState)([0,5e4]),[p,q]=(0,c.useState)("featured"),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(!0),[v,w]=(0,c.useState)(!1),x=new URLSearchParams;(0,e.useRouter)();let y=(0,h.useAppDispatch)(),{products:z,loading:A,error:B,pagination:C}=(0,h.useAppSelector)(a=>a.products),{categories:D,loading:E}=(0,h.useAppSelector)(a=>a.categories);(0,c.useEffect)(()=>{w(!0)},[]),(0,c.useEffect)(()=>{v&&(console.log("ShopPage mounted/visited, fetching data..."),(async()=>{try{await y((0,j.getCategories)());let a={},b=x?.get("category")||null,c=x?.get("search")||null;b&&(a.category_id=b,f(b)),c&&(a.search=c,s(c)),await y((0,i.getProducts)(a)),u(!1)}catch(a){console.error("Error fetching initial data:",a),u(!1)}})(),window.scrollTo(0,0))},[v]),(0,c.useEffect)(()=>{if(t||!v)return;console.log("Filters changed, fetching products...");let b={};"all"!==a&&(b.category_id=a),(n[0]>0||n[1]<5e4)&&(b.min_price=n[0],b.max_price=n[1]),r&&(b.search=r),y((0,i.getProducts)(b))},[a,n,r,t,v,y]);let F=(0,c.useMemo)(()=>{if(!z||0===z.length)return[];let a=[...z];return"price-low"===p?a.sort((a,b)=>a.price-b.price):"price-high"===p?a.sort((a,b)=>b.price-a.price):"rating"===p?a.sort((a,b)=>(b.rating||0)-(a.rating||0)):"featured"===p?a.sort((a,b)=>!!b.is_featured-!!a.is_featured):"newest"===p&&a.sort((a,b)=>new Date(b.created_at)-new Date(a.created_at)),a},[z,p]),G=a=>{f(a)},H=(a,b)=>{o([a,b])};return!v||t&&A?(0,b.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,b.jsx)("p",{className:"mt-4 text-foreground/70",children:"Loading shop..."})]})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k,{}),(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)("section",{className:"bg-accent py-12 px-4",children:(0,b.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,b.jsx)("h1",{className:"text-5xl font-bold mb-4",children:"Shop Our Collection"}),(0,b.jsx)("p",{className:"text-foreground/70 text-lg",children:"Find your perfect furniture pieces"}),(0,b.jsx)("form",{onSubmit:a=>{a.preventDefault()},className:"mt-6 max-w-md",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"text",value:r,onChange:a=>s(a.target.value),placeholder:"Search products...",className:"w-full px-4 py-3 bg-background rounded-lg border border-border focus:outline-none focus:ring-2 focus:ring-primary"}),(0,b.jsx)("button",{type:"submit",className:"absolute right-3 top-1/2 -translate-y-1/2 text-foreground/60 hover:text-foreground",children:"ðŸ”"})]})})]})}),(0,b.jsx)("section",{className:"py-12 px-4",children:(0,b.jsxs)("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,b.jsx)("div",{className:"md:col-span-1",children:(0,b.jsxs)(d.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-lg mb-4",children:"Categories"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",name:"category",value:"all",checked:"all"===a,onChange:()=>G("all"),className:"w-4 h-4 accent-primary"}),(0,b.jsx)("span",{children:"All Categories"})]}),E?(0,b.jsx)("div",{className:"space-y-2",children:[1,2,3,4].map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-4 h-4 bg-gray-200 rounded animate-pulse"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-24"})]},a))}):D.map(c=>(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",name:"category",value:c.category_id,checked:a===c.category_id.toString(),onChange:()=>G(c.category_id.toString()),className:"w-4 h-4 accent-primary"}),(0,b.jsx)("span",{children:c.category_name})]},c.category_id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-lg mb-4",children:"Price Range"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",name:"price",checked:0===n[0]&&5e4===n[1],onChange:()=>H(0,5e4),className:"w-4 h-4 accent-primary"}),(0,b.jsx)("span",{children:"All Prices"})]}),m.map((a,c)=>(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",name:"price",checked:n[0]===a.min&&n[1]===a.max,onChange:()=>H(a.min,a.max),className:"w-4 h-4 accent-primary"}),(0,b.jsx)("span",{children:a.label})]},c))]})]})]})}),(0,b.jsxs)("div",{className:"md:col-span-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-foreground/70",children:A?"Loading...":`Showing ${F.length} products`}),C&&(0,b.jsxs)("p",{className:"text-sm text-foreground/60",children:["Page ",C.page," of ",C.pages]})]}),(0,b.jsxs)("select",{value:p,onChange:a=>q(a.target.value),className:"px-4 py-2 bg-accent rounded-lg border border-border focus:outline-none",children:[(0,b.jsx)("option",{value:"featured",children:"Featured"}),(0,b.jsx)("option",{value:"newest",children:"Newest"}),(0,b.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,b.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,b.jsx)("option",{value:"rating",children:"Rating"})]})]}),B&&(0,b.jsxs)("div",{className:"bg-red-500/10 border border-red-500 text-red-500 rounded-lg p-4 mb-6",children:["Error loading products: ",B]}),A?(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(a=>(0,b.jsxs)("div",{className:"bg-accent rounded-lg p-4 animate-pulse",children:[(0,b.jsx)("div",{className:"h-48 bg-gray-300 rounded mb-4"}),(0,b.jsx)("div",{className:"h-4 bg-gray-300 rounded mb-2"}),(0,b.jsx)("div",{className:"h-4 bg-gray-300 rounded w-3/4"})]},a))}):(0,b.jsx)(d.motion.div,{layout:!0,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:F.map(a=>(0,b.jsx)(d.motion.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:(0,b.jsx)(g.default,{id:a.product_id,name:a.product_name,price:a.price,compare_price:a.compare_price,image:a.images?.[0]?.image_url||"/placeholder.svg",rating:a.rating||4.5,is_featured:a.is_featured,is_on_sale:a.is_on_sale})},a.product_id))}),!A&&0===F.length&&(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("p",{className:"text-foreground/70 text-lg",children:"No products found"}),(0,b.jsx)("p",{className:"text-foreground/60 mt-2",children:"Try adjusting your filters or search terms"})]})]})]})})]}),(0,b.jsx)(l,{})]})}a.s(["default",()=>n])}];

//# sourceMappingURL=_83dacf95._.js.map