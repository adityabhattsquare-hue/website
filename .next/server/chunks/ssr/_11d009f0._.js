module.exports=[70106,a=>{"use strict";var b=a.i(72131);let c=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let e=(0,b.forwardRef)(({color:a="currentColor",size:e=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...d,width:e,height:e,stroke:a,strokeWidth:g?24*Number(f)/Number(e):f,className:c("lucide",h),...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),f=(a,d)=>{let f=(0,b.forwardRef)(({className:f,...g},h)=>(0,b.createElement)(e,{ref:h,iconNode:d,className:c(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,f),...g}));return f.displayName=`${a}`,f};a.s(["default",()=>f],70106)},38784,a=>{"use strict";let b=(0,a.i(70106).default)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);a.s(["ShoppingCart",()=>b],38784)},53722,a=>{"use strict";let b=(0,a.i(70106).default)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);a.s(["BookOpen",()=>b],53722)},72692,a=>{"use strict";let b=(0,a.i(70106).default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);a.s(["Menu",()=>b],72692)},33508,a=>{"use strict";let b=(0,a.i(70106).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],33508)},46842,a=>{"use strict";let b=(0,a.i(70106).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],46842)},62036,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(86723),e=a.i(74290),f=a.i(1703),g=a.i(14800),h=a.i(91128),i=c,j=a.i(65802);function k(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}class l extends i.Component{getSnapshotBeforeUpdate(a){let b=this.props.childRef.current;if(b&&a.isPresent&&!this.props.isPresent){let a=b.offsetParent,c=(0,h.isHTMLElement)(a)&&a.offsetWidth||0,d=this.props.sizeRef.current;d.height=b.offsetHeight||0,d.width=b.offsetWidth||0,d.top=b.offsetTop,d.left=b.offsetLeft,d.right=c-d.width-d.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m({children:a,isPresent:d,anchorX:e,root:f}){let g=(0,i.useId)(),h=(0,i.useRef)(null),m=(0,i.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:n}=(0,i.useContext)(j.MotionConfigContext),o=function(...a){return c.useCallback(function(...a){return b=>{let c=!1,d=a.map(a=>{let d=k(a,b);return c||"function"!=typeof d||(c=!0),d});if(c)return()=>{for(let b=0;b<d.length;b++){let c=d[b];"function"==typeof c?c():k(a[b],null)}}}}(...a),a)}(h,a.props?.ref??a?.ref);return(0,i.useInsertionEffect)(()=>{let{width:a,height:b,top:c,left:i,right:j}=m.current;if(d||!h.current||!a||!b)return;let k="left"===e?`left: ${i}`:`right: ${j}`;h.current.dataset.motionPopId=g;let l=document.createElement("style");n&&(l.nonce=n);let o=f??document.head;return o.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${g}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${b}px !important;
            ${k}px !important;
            top: ${c}px !important;
          }
        `),()=>{o.contains(l)&&o.removeChild(l)}},[d]),(0,b.jsx)(l,{isPresent:d,childRef:h,sizeRef:m,children:i.cloneElement(a,{ref:o})})}let n=({children:a,initial:d,isPresent:f,onExitComplete:h,custom:i,presenceAffectsLayout:j,mode:k,anchorX:l,root:n})=>{let p=(0,e.useConstant)(o),q=(0,c.useId)(),r=!0,s=(0,c.useMemo)(()=>(r=!1,{id:q,initial:d,isPresent:f,custom:i,onExitComplete:a=>{for(let b of(p.set(a,!0),p.values()))if(!b)return;h&&h()},register:a=>(p.set(a,!1),()=>p.delete(a))}),[f,p,h]);return j&&r&&(s={...s}),(0,c.useMemo)(()=>{p.forEach((a,b)=>p.set(b,!1))},[f]),c.useEffect(()=>{f||p.size||!h||h()},[f]),"popLayout"===k&&(a=(0,b.jsx)(m,{isPresent:f,anchorX:l,root:n,children:a})),(0,b.jsx)(g.PresenceContext.Provider,{value:s,children:a})};function o(){return new Map}var p=a.i(20410);let q=a=>a.key||"";function r(a){let b=[];return c.Children.forEach(a,a=>{(0,c.isValidElement)(a)&&b.push(a)}),b}let s=({children:a,custom:g,initial:h=!0,onExitComplete:i,presenceAffectsLayout:j=!0,mode:k="sync",propagate:l=!1,anchorX:m="left",root:o})=>{let[s,t]=(0,p.usePresence)(l),u=(0,c.useMemo)(()=>r(a),[a]),v=l&&!s?[]:u.map(q),w=(0,c.useRef)(!0),x=(0,c.useRef)(u),y=(0,e.useConstant)(()=>new Map),z=(0,c.useRef)(new Set),[A,B]=(0,c.useState)(u),[C,D]=(0,c.useState)(u);(0,f.useIsomorphicLayoutEffect)(()=>{w.current=!1,x.current=u;for(let a=0;a<C.length;a++){let b=q(C[a]);v.includes(b)?(y.delete(b),z.current.delete(b)):!0!==y.get(b)&&y.set(b,!1)}},[C,v.length,v.join("-")]);let E=[];if(u!==A){let a=[...u];for(let b=0;b<C.length;b++){let c=C[b],d=q(c);v.includes(d)||(a.splice(b,0,c),E.push(c))}return"wait"===k&&E.length&&(a=E),D(r(a)),B(u),null}let{forceRender:F}=(0,c.useContext)(d.LayoutGroupContext);return(0,b.jsx)(b.Fragment,{children:C.map(a=>{let c=q(a),d=(!l||!!s)&&(u===C||v.includes(c));return(0,b.jsx)(n,{isPresent:d,initial:(!w.current||!!h)&&void 0,custom:g,presenceAffectsLayout:j,mode:k,root:o,onExitComplete:d?void 0:()=>{if(z.current.has(c)||(z.current.add(c),!y.has(c)))return;y.set(c,!0);let a=!0;y.forEach(b=>{b||(a=!1)}),a&&(F?.(),D(x.current),l&&t?.(),i&&i())},anchorX:m,children:a},c)})})};a.s(["AnimatePresence",()=>s],62036)},85602,a=>{"use strict";var b=a.i(3888);let c="http://localhost:5000/api",d=async(a,b)=>{try{let d=await fetch(`${c}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:b})});if(!d.ok){let a=await d.json();throw Error(a.message||"Login failed")}return await d.json()}catch(a){throw a}},e=async(a,b,d,e="")=>{try{let f={full_name:a,email:b,password:d};e&&e.startsWith("+91")&&13===e.length&&(f.phone=e),console.log("Sending registration data:",f);let g=await fetch(`${c}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(console.log("Registration response status:",g.status),!g.ok){let a;try{a=await g.json(),console.log("Registration error details:",a);let b="Registration failed";throw a.errors&&a.errors.length>0?b=a.errors[0].msg||b:a.message&&(b=a.message),Error(b)}catch(a){throw console.log("Could not parse error response"),Error(`Registration failed with status: ${g.status}`)}}let h=await g.json();return console.log("Registration successful:",h),h}catch(a){throw console.error("Registration error:",a),a}},f=async()=>(localStorage.removeItem("token"),localStorage.removeItem("user"),!0),g=(0,b.createSlice)({name:"auth",initialState:{user:null,isAuthenticated:!1,loading:!1,error:null},reducers:{setUser(a,b){a.user=b.payload,a.isAuthenticated=!0,a.error=null},logoutUser(a){a.user=null,a.isAuthenticated=!1,a.error=null},setLoading(a,b){a.loading=b.payload},setError(a,b){a.error=b.payload},clearError(a){a.error=null}}}),{setUser:h,logoutUser:i,setLoading:j,setError:k,clearError:l}=g.actions,m=g.reducer;a.s(["default",0,m,"loginUser",0,(a,b)=>async c=>{try{c(j(!0)),c(l());let e=await d(a,b);return c(h(e)),c(j(!1)),e}catch(a){throw c(j(!1)),c(k(a.message)),a}},"logoutUserAsync",0,()=>async a=>{try{await f()}catch(a){console.error("Logout API error:",a)}finally{a(i())}},"registerUser",0,(a,b,c,d="")=>async f=>{try{f(j(!0)),f(l());let g=await e(a,b,c,d);return f(h(g)),f(j(!1)),g}catch(a){throw f(j(!1)),f(k(a.message)),a}}],85602)},83497,a=>{"use strict";let b=(0,a.i(70106).default)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);a.s(["Package",()=>b],83497)},95579,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(62036),f=a.i(38246),g=a.i(23124),h=a.i(85602),i=a.i(38784),j=a.i(72692),k=a.i(33508),l=a.i(46842),m=a.i(70106);let n=(0,m.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),o=(0,m.default)("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);var p=a.i(83497),q=a.i(53722);function r(){let[a,m]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(!1),x=(0,g.useAppDispatch)(),{isAuthenticated:y}=(0,g.useAppSelector)(a=>a.auth),{user:z}=(0,g.useAppSelector)(a=>a.user),{totalQuantity:A,items:B}=(0,g.useAppSelector)(a=>a.cart),C=(0,c.useRef)(null);(0,c.useEffect)(()=>{w(!0);let a=a=>{C.current&&!C.current.contains(a.target)&&s(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);let D=[{label:"Home",href:"/"},{label:"Shop",href:"/shop"},{label:"Blog",href:"/blog"},{label:"About",href:"/about"},{label:"Contact",href:"/contact"}];return(0,b.jsxs)("nav",{className:"sticky top-0 z-50 backdrop-blur-xl bg-white/70 border-b border-gray-200/40 shadow-sm",children:[(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,b.jsx)(f.default,{href:"/",className:"font-bold text-2xl text-blue-600 tracking-wide",children:(0,b.jsx)("span",{className:"text-gray-900",children:" OakEmpire"})}),(0,b.jsx)("div",{className:"hidden md:flex gap-8",children:D.map(a=>(0,b.jsxs)(f.default,{href:a.href,className:"text-gray-700 hover:text-blue-600 font-medium transition relative group",children:[a.label,(0,b.jsx)("span",{className:"absolute left-0 -bottom-1 w-0 h-[2px] bg-blue-600 group-hover:w-full transition-all duration-300"})]},a.href))}),(0,b.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,b.jsxs)(f.default,{href:"/checkout",className:"relative p-2 rounded-lg hover:bg-gray-100 transition",title:"View Cart",children:[(0,b.jsx)(i.ShoppingCart,{size:22,className:"text-gray-700"}),B.length>0&&(0,b.jsx)("span",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:A>99?"99+":A})]}),v?y?(0,b.jsxs)("div",{className:"flex items-center gap-3 relative",ref:C,children:[(0,b.jsx)("button",{onClick:()=>s(a=>!a),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 transition",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[z?.profile_image?(0,b.jsx)("img",{src:z.profile_image,alt:"Profile",className:"w-8 h-8 rounded-full object-cover"}):(0,b.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,b.jsx)(l.User,{size:16,className:"text-blue-600"})}),(0,b.jsx)("span",{className:"hidden sm:block text-sm text-gray-600 max-w-24 truncate",children:z?.full_name||z?.name||"User"})]})}),(0,b.jsx)(e.AnimatePresence,{children:r&&(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-200 z-50",children:[(0,b.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[z?.profile_image?(0,b.jsx)("img",{src:z.profile_image,alt:"Profile",className:"w-10 h-10 rounded-full object-cover"}):(0,b.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,b.jsx)(l.User,{size:18,className:"text-blue-600"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-medium text-gray-900 text-sm truncate",children:z?.full_name||z?.name||"User"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 truncate",children:z?.email})]})]})}),(0,b.jsxs)("div",{className:"p-2",children:[(0,b.jsxs)(f.default,{href:"/profile",onClick:()=>s(!1),className:"flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition",children:[(0,b.jsx)(o,{size:16}),"My Profile"]}),(0,b.jsxs)(f.default,{href:"/orders",onClick:()=>s(!1),className:"flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition",children:[(0,b.jsx)(p.Package,{size:16}),"My Orders"]}),(0,b.jsxs)(f.default,{href:"/blog",onClick:()=>s(!1),className:"flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition",children:[(0,b.jsx)(q.BookOpen,{size:16}),"Blog"]})]}),(0,b.jsx)("div",{className:"p-2 border-t border-gray-200",children:(0,b.jsxs)("button",{onClick:()=>u(!0),className:"flex items-center gap-3 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition",children:[(0,b.jsx)(n,{size:16}),"Logout"]})})]})})]}):(0,b.jsx)(f.default,{href:"/login",className:"px-4 py-2 text-blue-600 border border-blue-600 rounded-lg text-sm hover:bg-blue-50 transition",children:"Login"}):(0,b.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"}),(0,b.jsx)("button",{onClick:()=>m(a=>!a),className:"md:hidden p-2 rounded-lg hover:bg-gray-100 transition",children:a?(0,b.jsx)(k.X,{size:24}):(0,b.jsx)(j.Menu,{size:24})})]})]}),(0,b.jsx)(e.AnimatePresence,{children:a&&(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.25},className:"md:hidden pb-4 border-t border-gray-200 mt-2",children:[D.map(a=>(0,b.jsxs)(f.default,{href:a.href,onClick:()=>m(!1),className:"flex items-center gap-3 py-3 text-gray-700 hover:text-blue-600 font-medium transition",children:["Blog"===a.label&&(0,b.jsx)(q.BookOpen,{size:16}),a.label]},a.href)),!y&&v&&(0,b.jsx)("div",{className:"pt-4 border-t border-gray-200 mt-2",children:(0,b.jsx)(f.default,{href:"/login",onClick:()=>m(!1),className:"block py-3 text-blue-600 font-medium transition",children:"Login"})})]})})]}),(0,b.jsx)(e.AnimatePresence,{children:t&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,b.jsx)(d.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-xl shadow-lg p-6 m-4 max-w-sm w-full",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(n,{size:24,className:"text-red-600"})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Confirm Logout"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to logout?"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition font-medium",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{x((0,h.logoutUserAsync)()),u(!1),s(!1)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-medium",children:"Logout"})]})]})})})})]})}a.s(["default",()=>r],95579)}];

//# sourceMappingURL=_11d009f0._.js.map