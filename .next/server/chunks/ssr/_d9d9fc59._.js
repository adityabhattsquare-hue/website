module.exports=[33354,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},69853,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return j}});let d=a.r(87924),e=a.r(72131),f=a.r(32245),g=a.r(97458);function h(a){return{default:a&&"default"in a?a.default:a}}let i={loader:()=>Promise.resolve(h(()=>null)),loading:null,ssr:!0},j=function(a){let b={...i,...a},c=(0,e.lazy)(()=>b.loader().then(h)),j=b.loading;function k(a){let h=j?(0,d.jsx)(j,{isLoading:!0,pastDelay:!0,error:null}):null,i=!b.ssr||!!b.loading,k=i?e.Suspense:e.Fragment,l=b.ssr?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.PreloadChunks,{moduleIds:b.modules}),(0,d.jsx)(c,{...a})]}):(0,d.jsx)(f.BailoutToCSR,{reason:"next/dynamic",children:(0,d.jsx)(c,{...a})});return(0,d.jsx)(k,{...i?{fallback:h}:{},children:l})}return k.displayName="LoadableComponent",k}},19721,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return e}});let d=a.r(33354)._(a.r(69853));function e(a,b){let c={};"function"==typeof a&&(c.loader=a);let e={...c,...b};return(0,d.default)({...e,modules:e.loadableGenerated?.modules})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},29621,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(46271),f=a.i(19721),g=a.i(23124),h=a.i(8615),i=a.i(71244),j=a.i(35213);let k=(0,f.default)(()=>a.A(33812),{loadableGenerated:{modules:[38377]}});function l(){let a=(0,d.useParams)().id,[f,l]=(0,c.useState)(1),[m,n]=(0,c.useState)(0),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)([]),s=(0,g.useAppDispatch)(),{selectedProduct:t,loading:u,error:v}=(0,g.useAppSelector)(a=>a.products),{isAuthenticated:w,user:x}=(0,g.useAppSelector)(a=>a.auth);(0,c.useEffect)(()=>{a&&s((0,j.getProductById)(a))},[s,a]),(0,c.useEffect)(()=>{t&&t.reviews&&r(t.reviews)},[t]);let y=async b=>{if(b.preventDefault(),!w)return void alert("Please login to submit a review");let c=new FormData(b.target),d={rating:parseInt(c.get("rating")),comment:c.get("review"),userName:x?.name||"Anonymous",userId:x?.id,productId:a};try{let a={id:Date.now().toString(),name:x?.name||"You",text:d.comment,rating:d.rating,date:new Date().toISOString()};r(b=>[a,...b]),p(!1),b.target.reset()}catch(a){console.error("Failed to submit review:",a),alert("Failed to submit review. Please try again.")}};if(u)return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-foreground/70",children:"Loading product..."})]})}),(0,b.jsx)(k,{})]});if(v)return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-2xl text-red-500 mb-4",children:"Error loading product"}),(0,b.jsx)("p",{className:"text-foreground/70",children:v})]})}),(0,b.jsx)(k,{})]});if(!t)return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)("p",{className:"text-2xl text-foreground/70",children:"Product not found"})}),(0,b.jsx)(k,{})]});let z=t.images||[],A=z[m]?.image_url||"/placeholder.svg";return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"min-h-screen bg-background py-12 px-4",children:(0,b.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,b.jsx)("nav",{className:"flex mb-8","aria-label":"Breadcrumb",children:(0,b.jsxs)("ol",{className:"flex items-center space-x-2 text-sm",children:[(0,b.jsx)("li",{children:(0,b.jsx)("a",{href:"/",className:"text-foreground/60 hover:text-foreground",children:"Home"})}),(0,b.jsxs)("li",{className:"flex items-center",children:[(0,b.jsx)("span",{className:"text-foreground/30 mx-2",children:"/"}),(0,b.jsx)("a",{href:"/shop",className:"text-foreground/60 hover:text-foreground",children:"Products"})]}),(0,b.jsxs)("li",{className:"flex items-center",children:[(0,b.jsx)("span",{className:"text-foreground/30 mx-2",children:"/"}),(0,b.jsx)("span",{className:"text-foreground",children:t.product_name})]})]})}),(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-12",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"bg-accent rounded-2xl overflow-hidden h-96 flex items-center justify-center",children:(0,b.jsx)(e.motion.img,{src:A,alt:t.product_name,className:"w-full h-full object-cover",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}},m)}),z.length>1&&(0,b.jsx)("div",{className:"grid grid-cols-4 gap-4",children:z.map((a,c)=>(0,b.jsx)("button",{onClick:()=>n(c),className:`bg-accent rounded-lg overflow-hidden border-2 ${m===c?"border-primary":"border-transparent"}`,children:(0,b.jsx)("img",{src:a.image_url,alt:`${t.product_name} ${c+1}`,className:"w-full h-20 object-cover"})},a.image_id))})]}),(0,b.jsxs)(e.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[t.is_featured&&(0,b.jsx)("span",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-sm",children:"Featured"}),t.is_bestseller&&(0,b.jsx)("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-sm",children:"Bestseller"}),t.is_new_arrival&&(0,b.jsx)("span",{className:"bg-purple-500 text-white px-3 py-1 rounded-full text-sm",children:"New Arrival"}),t.is_on_sale&&(0,b.jsx)("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-sm",children:"On Sale"})]}),(0,b.jsx)("h1",{className:"text-4xl font-bold text-foreground",children:t.product_name}),t.category_name&&(0,b.jsxs)("p",{className:"text-foreground/60",children:["Category: ",(0,b.jsx)("span",{className:"text-foreground",children:t.category_name})]}),(0,b.jsxs)("p",{className:"text-foreground/60",children:["SKU: ",(0,b.jsx)("span",{className:"text-foreground",children:t.sku})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("div",{className:"flex text-yellow-400",children:["★".repeat(4),"☆".repeat(1)]}),(0,b.jsx)("span",{className:"text-foreground/60",children:"(4.5)"}),(0,b.jsxs)("span",{className:"text-foreground/60",children:["(",q.length," reviews)"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("span",{className:"text-3xl font-bold text-primary",children:["$",t.price]}),t.compare_price&&t.compare_price>t.price&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("span",{className:"text-xl text-foreground/50 line-through",children:["$",t.compare_price]}),(0,b.jsxs)("span",{className:"bg-red-500 text-white px-2 py-1 rounded text-sm",children:["Save $",(t.compare_price-t.price).toFixed(2)]})]})]}),(0,b.jsx)("div",{className:`text-sm ${t.stock_quantity>0?"text-green-600":"text-red-600"}`,children:t.stock_quantity>0?`In Stock (${t.stock_quantity} available)`:"Out of Stock"}),t.short_description&&(0,b.jsx)("p",{className:"text-foreground/70 text-lg leading-relaxed",children:t.short_description}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-foreground/10",children:[t.material&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-foreground/60 block text-sm",children:"Material:"}),(0,b.jsx)("p",{className:"text-foreground",children:t.material})]}),t.color&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-foreground/60 block text-sm",children:"Color:"}),(0,b.jsx)("p",{className:"text-foreground",children:t.color})]}),t.dimensions&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-foreground/60 block text-sm",children:"Dimensions:"}),(0,b.jsx)("p",{className:"text-foreground",children:t.dimensions})]}),t.weight&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-foreground/60 block text-sm",children:"Weight:"}),(0,b.jsxs)("p",{className:"text-foreground",children:[t.weight," kg"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 pt-4 border-t border-foreground/10",children:[(0,b.jsx)("span",{className:"text-foreground font-medium",children:"Quantity:"}),(0,b.jsxs)("div",{className:"flex items-center border border-foreground/20 rounded-lg",children:[(0,b.jsx)("button",{onClick:()=>l(Math.max(1,f-1)),disabled:f<=1,className:"px-4 py-2 text-foreground/60 hover:text-foreground disabled:opacity-30 transition",children:"−"}),(0,b.jsx)("span",{className:"px-4 py-2 min-w-12 text-center font-semibold",children:f}),(0,b.jsx)("button",{onClick:()=>l(f+1),disabled:f>=(t.stock_quantity||10),className:"px-4 py-2 text-foreground/60 hover:text-foreground disabled:opacity-30 transition",children:"+"})]})]}),(0,b.jsxs)("div",{className:"flex gap-4 pt-6",children:[(0,b.jsx)(e.motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{t&&s((0,h.addToCart)({id:t.product_id,name:t.product_name,price:t.price,image:t.images?.[0]?.image_url||"/placeholder.svg",quantity:f}))},disabled:!t.stock_quantity||0===t.stock_quantity,className:"flex-1 py-4 bg-primary text-white rounded-lg font-semibold hover:opacity-90 transition disabled:opacity-50 disabled:cursor-not-allowed",children:t.stock_quantity&&0!==t.stock_quantity?"Add to Cart":"Out of Stock"}),(0,b.jsx)(e.motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{t&&s((0,i.addToWishlist)({id:t.product_id,name:t.product_name,price:t.price,image:t.images?.[0]?.image_url||"/placeholder.svg"}))},className:"flex-1 py-4 border-2 border-primary text-primary rounded-lg font-semibold hover:bg-primary/10 transition",children:"Add to Wishlist"})]})]})]}),t.description&&(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"bg-accent rounded-2xl p-8 mb-12",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Product Description"}),(0,b.jsx)("div",{className:"prose max-w-none",children:(0,b.jsx)("p",{className:"text-foreground/80 leading-relaxed whitespace-pre-line",children:t.description})})]}),(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"bg-accent rounded-2xl p-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:"Customer Reviews"}),w&&(0,b.jsx)("button",{onClick:()=>p(!0),className:"px-6 py-2 bg-primary text-white rounded-lg hover:opacity-90 transition",children:"Write Review"})]}),0===q.length?(0,b.jsx)("div",{className:"text-center py-8",children:(0,b.jsx)("p",{className:"text-foreground/60",children:"No reviews yet. Be the first to review this product!"})}):(0,b.jsx)("div",{className:"space-y-6",children:q.map((a,c)=>(0,b.jsxs)("div",{className:"border-t border-border pt-6 first:border-t-0 first:pt-0",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold",children:a.name}),a.date&&(0,b.jsx)("p",{className:"text-sm text-foreground/60",children:new Date(a.date).toLocaleDateString()})]}),(0,b.jsx)("span",{className:"text-yellow-400 text-lg",children:"⭐".repeat(a.rating)})]}),(0,b.jsx)("p",{className:"text-foreground/70 leading-relaxed",children:a.text||a.comment})]},a.id||c))}),o&&(0,b.jsx)(e.motion.div,{initial:{opacity:0},animate:{opacity:1},onClick:()=>p(!1),className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)(e.motion.div,{initial:{scale:.9},animate:{scale:1},onClick:a=>a.stopPropagation(),className:"bg-background rounded-2xl p-6 max-w-md w-full",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Write a Review"}),(0,b.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Rating"}),(0,b.jsxs)("select",{name:"rating",defaultValue:"5",className:"w-full px-4 py-2 bg-accent rounded-lg border border-border focus:outline-none focus:ring-2 focus:ring-primary",required:!0,children:[(0,b.jsx)("option",{value:"5",children:"⭐⭐⭐⭐⭐ 5 Stars"}),(0,b.jsx)("option",{value:"4",children:"⭐⭐⭐⭐ 4 Stars"}),(0,b.jsx)("option",{value:"3",children:"⭐⭐⭐ 3 Stars"}),(0,b.jsx)("option",{value:"2",children:"⭐⭐ 2 Stars"}),(0,b.jsx)("option",{value:"1",children:"⭐ 1 Star"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Your Review"}),(0,b.jsx)("textarea",{name:"review",required:!0,className:"w-full px-4 py-3 bg-accent rounded-lg border border-border focus:outline-none focus:ring-2 focus:ring-primary",rows:"4",placeholder:"Share your experience with this product...",minLength:"10"})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{type:"submit",className:"flex-1 py-2 bg-primary text-white rounded-lg font-semibold hover:opacity-90 transition",children:"Submit Review"}),(0,b.jsx)("button",{type:"button",onClick:()=>p(!1),className:"flex-1 py-2 border border-primary text-primary rounded-lg font-semibold hover:bg-primary/10 transition",children:"Cancel"})]})]})]})})]})]})}),(0,b.jsx)(k,{})]})}a.s(["default",()=>l])},33812,a=>{a.v(b=>Promise.all(["server/chunks/ssr/components_footer_jsx_fa4bf623._.js"].map(b=>a.l(b))).then(()=>b(54881)))}];

//# sourceMappingURL=_d9d9fc59._.js.map