{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/PC/Desktop/nextt/webnext/components/product-card.jsx"],"sourcesContent":["// components/product-card.jsx - Enhanced version\n'use client';\n\nimport Link from 'next/link';\nimport { motion } from 'framer-motion';\nimport { ShoppingCart, Star, Eye, Sparkles } from 'lucide-react';\nimport { useAppDispatch, useAppSelector } from '@/redux/hooks.js';\nimport { addToCart, addToCartAPI } from '@/redux/slices/cartSlice.js';\n\nexport default function ProductCard({ \n  id, \n  name, \n  price, \n  compare_price, \n  image, \n  rating = 4.5, \n  is_featured = false,\n  is_on_sale = false \n}) {\n  const dispatch = useAppDispatch();\n  const { isAuthenticated } = useAppSelector(state => state.auth);\n\n  const discount = compare_price && compare_price > price \n    ? Math.round(((compare_price - price) / compare_price) * 100) \n    : 0;\n\n  const hasDiscount = discount > 0;\n\n  const handleAddToCart = async (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    try {\n      if (isAuthenticated) {\n        await dispatch(addToCartAPI({ product_id: id, quantity: 1 })).unwrap();\n      } else {\n        dispatch(addToCart({\n          id,\n          name,\n          price,\n          image,\n          quantity: 1\n        }));\n      }\n    } catch (error) {\n      console.error('Failed to add to cart:', error);\n    }\n  };\n\n  return (\n    <motion.div\n      whileHover={{ y: -8 }}\n      transition={{ duration: 0.3, ease: \"easeOut\" }}\n      className=\"group relative bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 border border-gray-100\"\n    >\n      <Link href={`/product/${id}`}>\n        {/* Image Section */}\n        <div className=\"relative overflow-hidden bg-gradient-to-br from-gray-50 to-gray-100 aspect-square\">\n          <motion.img\n            whileHover={{ scale: 1.08 }}\n            transition={{ duration: 0.4 }}\n            src={image || \"/placeholder.svg\"}\n            alt={name}\n            className=\"w-full h-full object-cover\"\n          />\n          \n          {/* Overlay on hover */}\n          <div className=\"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-all duration-300\" />\n          \n          {/* Badges - Top Left */}\n          <div className=\"absolute top-2 left-2 flex flex-col gap-1.5\">\n            {is_on_sale && hasDiscount && (\n              <motion.div \n                initial={{ scale: 0, rotate: -12 }}\n                animate={{ scale: 1, rotate: 0 }}\n                className=\"bg-gradient-to-br from-red-500 to-pink-600 text-white px-2.5 py-1 text-xs font-bold rounded-lg shadow-lg flex items-center gap-1\"\n              >\n                <Sparkles className=\"w-3 h-3\" />\n                {discount}% OFF\n              </motion.div>\n            )}\n            {is_featured && (\n              <motion.div \n                initial={{ scale: 0, rotate: 12 }}\n                animate={{ scale: 1, rotate: 0 }}\n                transition={{ delay: 0.1 }}\n                className=\"bg-gradient-to-br from-amber-400 to-orange-500 text-white px-2.5 py-1 text-xs font-bold rounded-lg shadow-lg flex items-center gap-1\"\n              >\n                <Star className=\"w-3 h-3 fill-white\" />\n                Featured\n              </motion.div>\n            )}\n          </div>\n\n          {/* Quick View - Top Right */}\n          <motion.div \n            initial={{ opacity: 0, scale: 0 }}\n            whileHover={{ opacity: 1, scale: 1 }}\n            className=\"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-all duration-300\"\n          >\n            <div className=\"bg-white/95 backdrop-blur-sm rounded-full p-2 shadow-lg hover:bg-white transition-colors cursor-pointer\">\n              <Eye className=\"w-4 h-4 text-gray-700\" />\n            </div>\n          </motion.div>\n        </div>\n        \n        {/* Content Section */}\n        <div className=\"p-3.5\">\n          {/* Product Name */}\n          <h3 className=\"font-semibold text-base mb-2 line-clamp-2 text-gray-800 group-hover:text-primary transition-colors leading-snug min-h-[2.5rem]\">\n            {name}\n          </h3>\n          \n          {/* Rating */}\n          <div className=\"flex items-center gap-1.5 mb-3\">\n            <div className=\"flex items-center\">\n              {[...Array(5)].map((_, i) => (\n                <Star \n                  key={i}\n                  className={`w-3.5 h-3.5 ${\n                    i < Math.floor(rating) \n                      ? 'text-amber-400 fill-amber-400' \n                      : 'text-gray-300 fill-gray-300'\n                  }`}\n                />\n              ))}\n            </div>\n            <span className=\"text-xs font-medium text-gray-600\">\n              {rating}\n            </span>\n            <span className=\"text-xs text-gray-400\">\n              (127)\n            </span>\n          </div>\n          \n          {/* Price Section */}\n          <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-xl font-bold text-gray-900\">₹{price}</span>\n              {hasDiscount && (\n                <span className=\"text-sm text-gray-400 line-through\">\n                  ₹{compare_price}\n                </span>\n              )}\n            </div>\n            {hasDiscount && (\n              <span className=\"text-xs font-semibold text-green-600 bg-green-50 px-2 py-0.5 rounded\">\n                Save ₹{compare_price - price}\n              </span>\n            )}\n          </div>\n          \n          {/* Add to Cart Button */}\n          <motion.button\n            whileHover={{ scale: 1.02 }}\n            whileTap={{ scale: 0.98 }}\n            onClick={handleAddToCart}\n            className=\"w-full px-4 py-2.5 bg-gradient-to-r from-primary to-primary text-white rounded-lg font-medium hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-2 text-sm\"\n          >\n            <ShoppingCart className=\"w-4 h-4\" />\n            Add to Cart\n          </motion.button>\n        </div>\n      </Link>\n    </motion.div>\n  );\n}"],"names":[],"mappings":"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"}}]
}