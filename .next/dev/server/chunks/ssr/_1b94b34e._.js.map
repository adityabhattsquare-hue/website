{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/PC/Desktop/nextt/webnext/services/auth.js"],"sourcesContent":["\"use server\";\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL ;\nconsole.log(API_BASE)\nconsole.log(process.env.NEXT_PUBLIC_API_URL);\nexport const login = async (email, password) => {\n  try {\n    const response = await fetch(`${API_BASE}/auth/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ email, password }),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || 'Login failed');\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const register = async (name, email, password, phone = '') => {\n  try {\n    const requestBody = {\n      full_name: name, // Backend expects full_name, not name\n      email,\n      password,\n    };\n\n    // Only add phone to request if it's provided and valid\n    if (phone && phone.startsWith('+91') && phone.length === 13) {\n      requestBody.phone = phone;\n    }\n\n    console.log('Sending registration data:', requestBody);\n    \n    const response = await fetch(`${API_BASE}/auth/register`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(requestBody),\n    });\n\n    console.log('Registration response status:', response.status);\n    \n    if (!response.ok) {\n      let errorData;\n      try {\n        errorData = await response.json();\n        console.log('Registration error details:', errorData);\n        \n        // Extract specific error message\n        let errorMessage = 'Registration failed';\n        if (errorData.errors && errorData.errors.length > 0) {\n          errorMessage = errorData.errors[0].msg || errorMessage;\n        } else if (errorData.message) {\n          errorMessage = errorData.message;\n        }\n        \n        throw new Error(errorMessage);\n      } catch (parseError) {\n        console.log('Could not parse error response');\n        throw new Error(`Registration failed with status: ${response.status}`);\n      }\n    }\n\n    const data = await response.json();\n    console.log('Registration successful:', data);\n    return data;\n  } catch (error) {\n    console.error('Registration error:', error);\n    throw error;\n  }\n};\n\nexport const logout = async () => {\n  localStorage.removeItem('token');\n  localStorage.removeItem('user');\n  return true;\n};\n\n"],"names":[],"mappings":";;;;;;;;;;;;;AACA,MAAM,WAAW,QAAQ,GAAG,CAAC,mBAAmB;AAChD,QAAQ,GAAG,CAAC;AACZ,QAAQ,GAAG,CAAC,QAAQ,GAAG,CAAC,mBAAmB;AACpC,MAAM,QAAQ,OAAO,OAAO;IACjC,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,GAAG,SAAS,WAAW,CAAC,EAAE;YACrD,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAO;YAAS;QACzC;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,YAAY,MAAM,SAAS,IAAI;YACrC,MAAM,IAAI,MAAM,UAAU,OAAO,IAAI;QACvC;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,OAAO;IACT,EAAE,OAAO,OAAO;QACd,MAAM;IACR;AACF;AAEO,MAAM,WAAW,OAAO,MAAM,OAAO,UAAU,QAAQ,EAAE;IAC9D,IAAI;QACF,MAAM,cAAc;YAClB,WAAW;YACX;YACA;QACF;QAEA,uDAAuD;QACvD,IAAI,SAAS,MAAM,UAAU,CAAC,UAAU,MAAM,MAAM,KAAK,IAAI;YAC3D,YAAY,KAAK,GAAG;QACtB;QAEA,QAAQ,GAAG,CAAC,8BAA8B;QAE1C,MAAM,WAAW,MAAM,MAAM,GAAG,SAAS,cAAc,CAAC,EAAE;YACxD,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,QAAQ,GAAG,CAAC,iCAAiC,SAAS,MAAM;QAE5D,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,IAAI;YACJ,IAAI;gBACF,YAAY,MAAM,SAAS,IAAI;gBAC/B,QAAQ,GAAG,CAAC,+BAA+B;gBAE3C,iCAAiC;gBACjC,IAAI,eAAe;gBACnB,IAAI,UAAU,MAAM,IAAI,UAAU,MAAM,CAAC,MAAM,GAAG,GAAG;oBACnD,eAAe,UAAU,MAAM,CAAC,EAAE,CAAC,GAAG,IAAI;gBAC5C,OAAO,IAAI,UAAU,OAAO,EAAE;oBAC5B,eAAe,UAAU,OAAO;gBAClC;gBAEA,MAAM,IAAI,MAAM;YAClB,EAAE,OAAO,YAAY;gBACnB,QAAQ,GAAG,CAAC;gBACZ,MAAM,IAAI,MAAM,CAAC,iCAAiC,EAAE,SAAS,MAAM,EAAE;YACvE;QACF;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,QAAQ,GAAG,CAAC,4BAA4B;QACxC,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uBAAuB;QACrC,MAAM;IACR;AACF;AAEO,MAAM,SAAS;IACpB,aAAa,UAAU,CAAC;IACxB,aAAa,UAAU,CAAC;IACxB,OAAO;AACT;;;IAjFa;IAsBA;IAuDA;;AA7EA,+OAAA;AAsBA,+OAAA;AAuDA,+OAAA"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/PC/Desktop/nextt/webnext/.next-internal/server/app/_not-found/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {login as '7ff3759432512ce7d609f56e54777ecdaf362cb808'} from 'ACTIONS_MODULE0'\nexport {register as '7fc7b3a8fdc9ac31bc531f7ba8c4e591de136ed3ec'} from 'ACTIONS_MODULE0'\nexport {logout as '7f43956f80f22007ff39ce5489e37e9566468ec6de'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}